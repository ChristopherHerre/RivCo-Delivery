{"ast":null,"code":"import { computeBase, countTrailingZeros, equal, maximum } from '../utils';\nimport { transformScale } from './transformScale';\nexport function trimScale(calculator) {\n  var countTrailingZerosFn = countTrailingZeros(calculator);\n  var equalFn = equal(calculator);\n  var maximumFn = maximum(calculator);\n  var transformScaleFn = transformScale(calculator);\n  var computeBaseFn = computeBase(calculator);\n  return function trimScaleFn() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0];\n    var _dineroObject$toJSON = dineroObject.toJSON(),\n      amount = _dineroObject$toJSON.amount,\n      currency = _dineroObject$toJSON.currency,\n      scale = _dineroObject$toJSON.scale;\n    var base = computeBaseFn(currency.base);\n    var trailingZerosLength = countTrailingZerosFn(amount, base);\n    var difference = calculator.subtract(scale, trailingZerosLength);\n    var newScale = maximumFn([difference, currency.exponent]);\n    if (equalFn(newScale, scale)) {\n      return dineroObject;\n    }\n    return transformScaleFn(dineroObject, newScale);\n  };\n}","map":{"version":3,"names":["computeBase","countTrailingZeros","equal","maximum","transformScale","trimScale","calculator","countTrailingZerosFn","equalFn","maximumFn","transformScaleFn","computeBaseFn","trimScaleFn","_len","arguments","length","_ref","Array","_key","dineroObject","_dineroObject$toJSON","toJSON","amount","currency","scale","base","trailingZerosLength","difference","subtract","newScale","exponent"],"sources":["/Users/chris/Desktop/uber/node_modules/@dinero.js/core/dist/esm/api/trimScale.js"],"sourcesContent":["import { computeBase, countTrailingZeros, equal, maximum } from '../utils';\nimport { transformScale } from './transformScale';\nexport function trimScale(calculator) {\n  var countTrailingZerosFn = countTrailingZeros(calculator);\n  var equalFn = equal(calculator);\n  var maximumFn = maximum(calculator);\n  var transformScaleFn = transformScale(calculator);\n  var computeBaseFn = computeBase(calculator);\n  return function trimScaleFn() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0];\n    var _dineroObject$toJSON = dineroObject.toJSON(),\n      amount = _dineroObject$toJSON.amount,\n      currency = _dineroObject$toJSON.currency,\n      scale = _dineroObject$toJSON.scale;\n    var base = computeBaseFn(currency.base);\n    var trailingZerosLength = countTrailingZerosFn(amount, base);\n    var difference = calculator.subtract(scale, trailingZerosLength);\n    var newScale = maximumFn([difference, currency.exponent]);\n    if (equalFn(newScale, scale)) {\n      return dineroObject;\n    }\n    return transformScaleFn(dineroObject, newScale);\n  };\n}"],"mappings":"AAAA,SAASA,WAAW,EAAEC,kBAAkB,EAAEC,KAAK,EAAEC,OAAO,QAAQ,UAAU;AAC1E,SAASC,cAAc,QAAQ,kBAAkB;AACjD,OAAO,SAASC,SAASA,CAACC,UAAU,EAAE;EACpC,IAAIC,oBAAoB,GAAGN,kBAAkB,CAACK,UAAU,CAAC;EACzD,IAAIE,OAAO,GAAGN,KAAK,CAACI,UAAU,CAAC;EAC/B,IAAIG,SAAS,GAAGN,OAAO,CAACG,UAAU,CAAC;EACnC,IAAII,gBAAgB,GAAGN,cAAc,CAACE,UAAU,CAAC;EACjD,IAAIK,aAAa,GAAGX,WAAW,CAACM,UAAU,CAAC;EAC3C,OAAO,SAASM,WAAWA,CAAA,EAAG;IAC5B,KAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAAM,EAAEC,IAAI,GAAG,IAAIC,KAAK,CAACJ,IAAI,CAAC,EAAEK,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGL,IAAI,EAAEK,IAAI,EAAE,EAAE;MACvFF,IAAI,CAACE,IAAI,CAAC,GAAGJ,SAAS,CAACI,IAAI,CAAC;IAC9B;IACA,IAAIC,YAAY,GAAGH,IAAI,CAAC,CAAC,CAAC;IAC1B,IAAII,oBAAoB,GAAGD,YAAY,CAACE,MAAM,CAAC,CAAC;MAC9CC,MAAM,GAAGF,oBAAoB,CAACE,MAAM;MACpCC,QAAQ,GAAGH,oBAAoB,CAACG,QAAQ;MACxCC,KAAK,GAAGJ,oBAAoB,CAACI,KAAK;IACpC,IAAIC,IAAI,GAAGd,aAAa,CAACY,QAAQ,CAACE,IAAI,CAAC;IACvC,IAAIC,mBAAmB,GAAGnB,oBAAoB,CAACe,MAAM,EAAEG,IAAI,CAAC;IAC5D,IAAIE,UAAU,GAAGrB,UAAU,CAACsB,QAAQ,CAACJ,KAAK,EAAEE,mBAAmB,CAAC;IAChE,IAAIG,QAAQ,GAAGpB,SAAS,CAAC,CAACkB,UAAU,EAAEJ,QAAQ,CAACO,QAAQ,CAAC,CAAC;IACzD,IAAItB,OAAO,CAACqB,QAAQ,EAAEL,KAAK,CAAC,EAAE;MAC5B,OAAOL,YAAY;IACrB;IACA,OAAOT,gBAAgB,CAACS,YAAY,EAAEU,QAAQ,CAAC;EACjD,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}