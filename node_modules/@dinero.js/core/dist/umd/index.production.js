/*! @dinero.js/core 2.0.0-alpha.14 (UNRELEASED 1320a09) | MIT License | Â© Sarah Dayan and contributors | https://v2.dinerojs.com */
!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((r="undefined"!=typeof globalThis?globalThis:r||self)["@dinero.js/core"]={})}(this,(function(r){"use strict";function n(r,n){return u(r)||function(r,n){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null==t)return;var e,u,o=[],a=!0,c=!1;try{for(t=t.call(r);!(a=(e=t.next()).done)&&(o.push(e.value),!n||o.length!==n);a=!0);}catch(r){c=!0,u=r}finally{try{a||null==t.return||t.return()}finally{if(c)throw u}}return o}(r,n)||a(r,n)||i()}function t(r){return u(r)||o(r)||a(r)||i()}function e(r){return function(r){if(Array.isArray(r))return c(r)}(r)||o(r)||a(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(r){if(Array.isArray(r))return r}function o(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function a(r,n){if(r){if("string"==typeof r)return c(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(r,n):void 0}}function c(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,l="Ratios are invalid.",v="Objects must have the same currency.",m="Currency is not decimal.";function s(r,n){if(!r)throw new Error("[Dinero.js] ".concat(n))}function y(n){return function(t,e){return n.compare(t,e)===r.ComparisonOperator.EQ}}function d(n){return function(t,e){return n.compare(t,e)===r.ComparisonOperator.LT}}function p(r){var n=y(r),t=d(r),e=r.zero();return function(u){if(n(u,e))return e;if(t(u,e)){var o=r.decrement(e);return r.multiply(o,u)}return u}}function S(r){return Array.isArray(r)}function h(r){return function(n){return S(n)?n.reduce((function(n,t){return r.multiply(n,t)})):n}}function A(n){return function(t,e){return n.compare(t,e)===r.ComparisonOperator.GT}}function g(r){return function(n,t){return A(r)(n,t)||y(r)(n,t)}}function w(r){return function(n,t){var e=y(r),u=A(r),o=d(r),a=g(r),c=r.zero(),i=r.increment(c),f=t.reduce((function(n,t){return r.add(n,t)}),c);if(e(f,c))return t;for(var l=n,v=t.map((function(t){var e=r.integerDivide(r.multiply(n,t),f)||c;return l=r.subtract(l,e),e})),m=a(n,c),s=m?u:o,p=m?i:r.decrement(c),S=0;s(l,c);)e(t[S],c)||(v[S]=r.add(v[S],p),l=r.subtract(l,p)),S++;return v}}function O(r,n){var t,e;return(null==(e=r)?void 0:e.hasOwnProperty("amount"))?{amount:r.amount,scale:null!==(t=null==r?void 0:r.scale)&&void 0!==t?t:n}:{amount:r,scale:n}}function b(r){var n=y(r),t=r.zero(),e=r.increment(r.increment(t));return function(u){return n(r.modulo(u,e),t)}}function N(r){var n=y(r),t=p(r);return function(e,u){var o=t(r.modulo(e,u)),a=r.subtract(u,o);return n(a,o)}}function J(r){var n=d(r);return function(r){return r.reduce((function(r,t){return n(r,t)?t:r}))}}function E(r){var n=y(r),t=d(r),e=r.zero();return function(u){if(n(u,e))return e;var o=r.increment(e),a=r.decrement(e);return t(u,e)?a:o}}function z(r){var n=t(r),e=n[0],u=n.slice(1),o=h(e.calculator),a=e.toJSON().currency,c=y(e.calculator),i=o(a.base);return u.every((function(r){var n=r.toJSON().currency,t=o(n.base);return n.code===a.code&&c(t,i)&&c(n.exponent,a.exponent)}))}r.ComparisonOperator=void 0,(f=r.ComparisonOperator||(r.ComparisonOperator={}))[f.LT=-1]="LT",f[f.EQ=0]="EQ",f[f.GT=1]="GT";var C=function(r,n,t){var e=A(t),u=y(t),o=t.zero(),a=e(r,o),c=t.integerDivide(r,n),i=u(t.modulo(r,n),o);return a||i?c:t.decrement(c)},T=function(r,n,t){var e=A(t),u=N(t),o=p(t),a=t.zero(),c=o(t.modulo(r,n)),i=e(t.subtract(n,c),c),f=e(r,a);return u(r,n)||f&&!i||!f&&i?_(r,n,t):C(r,n,t)},_=function(r,n,t){var e=A(t),u=y(t),o=t.zero(),a=e(r,o),c=t.integerDivide(r,n);return!u(t.modulo(r,n),o)&&a?t.increment(c):c};function I(r){var t=A(r),e=h(r);return function(){for(var u=arguments.length,o=new Array(u),a=0;a<u;a++)o[a]=arguments[a];var c=o[0],i=o[1],f=o[2],l=void 0===f?C:f,v=c.toJSON(),m=v.amount,s=v.currency,y=v.scale,d=t(i,y),p=d?r.multiply:l,S=d?[i,y]:[y,i],h=n(S,2),A=h[0],g=h[1],w=e(s.base),O=r.power(w,r.subtract(A,g));return c.create({amount:p(m,O,r),currency:s,scale:i})}}function D(r){var n=J(r),t=I(r),e=y(r);return function(){for(var u=arguments.length,o=new Array(u),a=0;a<u;a++)o[a]=arguments[a];var c=o[0],i=c.reduce((function(r,t){var e=t.toJSON().scale;return n([r,e])}),r.zero());return c.map((function(r){var n=r.toJSON().scale;return e(n,i)?r:t(r,i)}))}}function L(r){var n=D(r),e=y(r);return function(){for(var r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];var a=u[0],c=n(a),i=t(c),f=i[0],l=i.slice(1),v=f.toJSON(),m=v.amount;return l.every((function(r){var n=r.toJSON().amount;return e(n,m)}))}}function M(r){var t=function(r){return function(n,t){return d(r)(n,t)||y(r)(n,t)}}(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0],a=e[1],c=[o,a],i=c.map((function(r){return r.toJSON().amount})),f=n(i,2),l=f[0],v=f[1];return t(l,v)}}function x(r){var t=function(r){var n=A(r);return function(r){return r.reduce((function(r,t){return n(r,t)?t:r}))}}(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0],a=n(o,1),c=a[0],i=c.toJSON(),f=i.currency,l=i.scale,v=t(o.map((function(r){return r.toJSON().amount})));return c.create({amount:v,currency:f,scale:l})}}function G(r){var n=function(r){var n=r.multiply;return function(r){return r.reduce((function(t,u,o){var a=r.slice(o).reduce((function(r,t){return n(r,t)}));return[].concat(e(t),[a])}),[])}}(r);return function(){for(var t=arguments.length,u=new Array(t),o=0;o<t;o++)u[o]=arguments[o];var a=u[0],c=u[1],i=a.toJSON(),f=i.amount,l=i.currency,v=i.scale,m=r.power,s=r.integerDivide,y=r.modulo,d=S(l.base)?l.base:[l.base],p=n(d.map((function(r){return m(r,v)}))),h=p.reduce((function(r,n,t){var u=r[t],o=s(u,n),a=y(u,n);return[].concat(e(r.filter((function(r,n){return n!==t}))),[o,a])}),[f]);return c?c({value:h,currency:l}):h}}function U(r,n){var t=p(r),e=y(r),u=d(r),o=r.zero();return function(r,a){var c=n.toString(r[0]),i=n.toString(t(r[1])),f=n.toNumber(a),l="".concat(c,".").concat(i.padStart(f,"0")),v=e(r[0],o),m=u(r[1],o);return v&&m?"-".concat(l):l}}r.INVALID_AMOUNT_MESSAGE="Amount is invalid.",r.INVALID_RATIOS_MESSAGE=l,r.INVALID_SCALE_MESSAGE="Scale is invalid.",r.NON_DECIMAL_CURRENCY_MESSAGE=m,r.UNEQUAL_CURRENCIES_MESSAGE=v,r.UNEQUAL_SCALES_MESSAGE="Objects must have the same scale.",r.assert=s,r.convert=function(r){var n=I(r),t=J(r),e=r.zero();return function(){for(var u=arguments.length,o=new Array(u),a=0;a<u;a++)o[a]=arguments[a];var c=o[0],i=o[1],f=o[2],l=f[i.code],v=c.toJSON(),m=v.amount,s=v.scale,y=O(l,e),d=y.amount,p=y.scale,S=r.add(s,p);return n(c.create({amount:r.multiply(m,d),currency:i,scale:S}),t([S,i.exponent]))}},r.createDinero=function(r){var n=r.calculator,t=r.onCreate,e=r.formatter,u=void 0===e?{toNumber:Number,toString:String}:e;return function r(e){var o=e.amount,a=e.currency,c=a.code,i=a.base,f=a.exponent,l=e.scale,v=void 0===l?f:l,m={code:c,base:i,exponent:f};return null==t||t({amount:o,currency:m,scale:v}),{calculator:n,formatter:u,create:r,toJSON:function(){return{amount:o,currency:m,scale:v}}}}},r.down=C,r.equal=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=t[0],o=t[1];return L(r)([u,o])&&z([u,o])}},r.halfAwayFromZero=function(r,n,t){var e=E(t),u=N(t),o=p(t);return u(r,n)?t.multiply(e(r),_(o(r),n,t)):T(r,n,t)},r.halfDown=function(r,n,t){return N(t)(r,n)?C(r,n,t):T(r,n,t)},r.halfEven=function(r,n,t){var e=b(t),u=N(t),o=T(r,n,t);return u(r,n)?e(o)?o:t.decrement(o):o},r.halfOdd=function(r,n,t){var e=b(t),u=N(t),o=T(r,n,t);return u(r,n)&&e(o)?t.decrement(o):o},r.halfTowardsZero=function(r,n,t){var e=E(t),u=N(t),o=p(t);return u(r,n)?t.multiply(e(r),C(o(r),n,t)):T(r,n,t)},r.halfUp=T,r.hasSubUnits=function(r){var n=y(r),t=h(r);return function(){for(var e=arguments.length,u=new Array(e),o=0;o<e;o++)u[o]=arguments[o];var a=u[0],c=a.toJSON(),i=c.amount,f=c.currency,l=c.scale,v=t(f.base);return!n(r.modulo(i,r.power(v,l)),r.zero())}},r.haveSameAmount=L,r.haveSameCurrency=z,r.isNegative=function(r){var n=d(r);return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var o=e[0],a=o.toJSON(),c=a.amount;return n(c,r.zero())}},r.isPositive=function(r){var n=A(r);return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var o=e[0],a=o.toJSON(),c=a.amount;return n(c,r.zero())}},r.isZero=function(r){var n=y(r);return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var o=e[0],a=o.toJSON(),c=a.amount;return n(c,r.zero())}},r.multiply=function(r){var n=I(r),t=r.zero();return function(){for(var e=arguments.length,u=new Array(e),o=0;o<e;o++)u[o]=arguments[o];var a=u[0],c=u[1],i=a.toJSON(),f=i.amount,l=i.currency,v=i.scale,m=O(c,t),s=m.amount,y=m.scale,d=r.add(v,y);return n(a.create({amount:r.multiply(f,s),currency:l,scale:d}),d)}},r.normalizeScale=D,r.safeAdd=function(r){var t=D(r),e=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=t[0],o=t[1],a=u.toJSON(),c=a.amount,i=a.currency,f=a.scale,l=o.toJSON().amount,v=r.add(c,l);return u.create({amount:v,currency:i,scale:f})}}(r);return function(){for(var r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];var a=u[0],c=u[1],i=z([a,c]);s(i,v);var f=t([a,c]),l=n(f,2),m=l[0],y=l[1];return e(m,y)}},r.safeAllocate=function(r){var n=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=t[0],o=t[1],a=u.toJSON(),c=a.amount,i=a.currency,f=a.scale;return w(r)(c,o.map((function(r){return r.amount}))).map((function(r){return u.create({amount:r,currency:i,scale:f})}))}}(r),t=g(r),e=A(r),u=I(r),o=J(r),a=y(r),c=r.zero(),i=new Array(10).fill(null).reduce(r.increment,c);return function(){for(var f=arguments.length,v=new Array(f),m=0;m<f;m++)v[m]=arguments[m];var y=v[0],d=v[1],p=d.length>0,S=d.map((function(r){return O(r,c)})),h=p?o(S.map((function(r){return r.scale}))):c,A=S.map((function(n){var t=n.amount,e=n.scale,u=a(e,h)?c:r.subtract(h,e);return{amount:r.multiply(t,r.power(i,u)),scale:e}})),g=A.every((function(r){var n=r.amount;return t(n,c)})),w=A.some((function(r){var n=r.amount;return e(n,c)})),b=p&&g&&w;s(b,l);var N=y.toJSON(),J=N.scale,E=r.add(J,h);return n(u(y,E),A)}},r.safeCompare=function(r){var t=D(r),e=function(r){var t=function(r){return function(n,t){return r.compare(n,t)}}(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=n([e[0],e[1]].map((function(r){return r.toJSON().amount})),2),a=o[0],c=o[1];return t(a,c)}}(r);return function(){for(var r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];var a=u[0],c=u[1],i=z([a,c]);s(i,v);var f=t([a,c]),l=n(f,2),m=l[0],y=l[1];return e(m,y)}},r.safeGreaterThan=function(r){var t=D(r),e=function(r){var t=A(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=n([e[0],e[1]].map((function(r){return r.toJSON().amount})),2),a=o[0],c=o[1];return t(a,c)}}(r);return function(){for(var r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];var a=u[0],c=u[1],i=z([a,c]);s(i,v);var f=t([a,c]),l=n(f,2),m=l[0],y=l[1];return e(m,y)}},r.safeGreaterThanOrEqual=function(r){var t=D(r),e=function(r){var t=g(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=n([e[0],e[1]].map((function(r){return r.toJSON().amount})),2),a=o[0],c=o[1];return t(a,c)}}(r);return function(){for(var r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];var a=u[0],c=u[1],i=z([a,c]);s(i,v);var f=t([a,c]),l=n(f,2),m=l[0],y=l[1];return e(m,y)}},r.safeLessThan=function(r){var t=D(r),e=function(r){var t=d(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=n([e[0],e[1]].map((function(r){return r.toJSON().amount})),2),a=o[0],c=o[1];return t(a,c)}}(r);return function(){for(var r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];var a=u[0],c=u[1],i=z([a,c]);s(i,v);var f=t([a,c]),l=n(f,2),m=l[0],y=l[1];return e(m,y)}},r.safeLessThanOrEqual=function(r){var t=D(r),e=M(r);return function(){for(var r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];var a=u[0],c=u[1],i=z([a,c]);s(i,v);var f=t([a,c]),l=n(f,2),m=l[0],y=l[1];return e(m,y)}},r.safeMaximum=function(r){var t=D(r),e=function(r){var t=J(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0],a=n(o,1)[0],c=a.toJSON(),i=c.currency,f=c.scale,l=t(o.map((function(r){return r.toJSON().amount})));return a.create({amount:l,currency:i,scale:f})}}(r);return function(){for(var r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];var o=n[0],a=z(o);s(a,v);var c=t(o);return e(c)}},r.safeMinimum=function(r){var n=D(r),t=x(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0],a=z(o);s(a,v);var c=n(o);return t(c)}},r.safeSubtract=function(r){var t=D(r),e=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=t[0],o=t[1],a=u.toJSON(),c=a.amount,i=a.currency,f=a.scale,l=o.toJSON().amount,v=r.subtract(c,l);return u.create({amount:v,currency:i,scale:f})}}(r);return function(){for(var r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];var a=u[0],c=u[1],i=z([a,c]);s(i,v);var f=t([a,c]),l=n(f,2),m=l[0],y=l[1];return e(m,y)}},r.toDecimal=function(r){var n=G(r),t=h(r),e=y(r);return function(){for(var u=arguments.length,o=new Array(u),a=0;a<u;a++)o[a]=arguments[a];var c=o[0],i=o[1],f=c.toJSON(),l=f.currency,v=f.scale,y=t(l.base),d=r.zero(),p=new Array(10).fill(null).reduce(r.increment,d),h=S(l.base),A=e(r.modulo(y,p),d),g=!h&&A;s(g,m);var w=n(c),O=U(r,c.formatter),b=O(w,v);return i?i({value:b,currency:l}):b}},r.toSnapshot=function(r){return r.toJSON()},r.toUnits=G,r.transformScale=I,r.trimScale=function(r){var n=function(r){var n=y(r);return function(t,e){var u=r.zero();if(n(u,t))return r.zero();for(var o=u,a=t;n(r.modulo(a,e),u);)a=r.integerDivide(a,e),o=r.increment(o);return o}}(r),t=y(r),e=J(r),u=I(r),o=h(r);return function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];var f=c[0],l=f.toJSON(),v=l.amount,m=l.currency,s=l.scale,y=o(m.base),d=n(v,y),p=r.subtract(s,d),S=e([p,m.exponent]);return t(S,s)?f:u(f,S)}},r.up=_,Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=index.production.js.map
